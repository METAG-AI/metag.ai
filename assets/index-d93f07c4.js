import{r as e,a as t,b as i,F as s,j as a,H as o}from"./index-d981ad22.js";import{d as r,g as l,c as n}from"./model-87c63d5a.js";import{c}from"./project-28ffe350.js";import{o as d,u as m}from"./index-946e0a4e.js";import{I as h}from"./index-63d26495.js";import{L as _,E as p}from"./index-3c101bd2.js";import{B as C,a as g}from"./index-5f568926.js";import{S as y}from"./add-4cd0684f.js";import{f}from"./formatDate-e3431c7a.js";import{B as w}from"./BaseUrl-9fb7060e.js";import"./request-6150d4f8.js";import"./index-f246fd73.js";import"./index-9f063626.js";const v="_header_y0ee2_1",u="_title_y0ee2_10",N="_btn-create_y0ee2_24",x="_create_y0ee2_37",M="_content_y0ee2_54",j="_stateTitle_y0ee2_65",E="_numberTitle_y0ee2_75",V="_card-list_y0ee2_85",k="_item_y0ee2_88",H="_cardTitle_y0ee2_98",L="_desc_y0ee2_104",B="_use_y0ee2_112",I="_info_y0ee2_128",T="_preview_y0ee2_133",b="_bottom_y0ee2_162",Z="_empty_y0ee2_223",D="_processList_y0ee2_233",P="_processItem_y0ee2_236",$="_leftItem_y0ee2_249",U="_numIndex_y0ee2_253",W="_noImg_y0ee2_262",z="_state_y0ee2_65",A="_prompt_y0ee2_287",F="_operate_y0ee2_296",q="_delete_y0ee2_296",O="_rightArrow_y0ee2_301";function Q(t){return e.createElement("svg",{width:12,height:20,viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("path",{d:"M1 1L10.1781 9.35109C10.6174 9.75074 10.6136 10.4429 10.17 10.8377L1 19",stroke:"white",strokeWidth:2,strokeLinecap:"round"}))}function S(t){return e.createElement("svg",{width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("path",{d:"M0.850962 5.08181C0.658425 5.08181 0.473773 5.00532 0.337629 4.86918C0.201485 4.73303 0.125 4.54838 0.125 4.35584C0.125 4.16331 0.201485 3.97866 0.337629 3.84251C0.473773 3.70637 0.658425 3.62988 0.850962 3.62988H18.274C18.4666 3.62988 18.6512 3.70637 18.7874 3.84251C18.9235 3.97866 19 4.16331 19 4.35584C19 4.54838 18.9235 4.73303 18.7874 4.86918C18.6512 5.00532 18.4666 5.08181 18.274 5.08181H0.850962Z",fill:"white"}),e.createElement("path",{d:"M5.20654 6.5332H16.8219V15.5915C16.8219 16.2076 16.2524 17.4896 15.8168 17.9252C15.3811 18.3609 14.1991 18.8745 13.583 18.8745H7.52962C6.9135 18.8745 6.32262 18.6298 5.88696 18.1941C5.4513 17.7585 5.20654 17.1676 5.20654 16.5515V6.5332Z",fill:"white",fillOpacity:.2}),e.createElement("path",{d:"M5.93288 3.62981H13.1925V2.90385C13.1925 2.51877 13.0395 2.14947 12.7672 1.87718C12.4949 1.60489 12.1256 1.45192 11.7406 1.45192H7.3848C6.99973 1.45192 6.63043 1.60489 6.35814 1.87718C6.08585 2.14947 5.93288 2.51877 5.93288 2.90385V3.62981ZM7.3848 0H11.7406C12.5107 0 13.2493 0.30594 13.7939 0.850517C14.3385 1.39509 14.6444 2.1337 14.6444 2.90385V5.08173H4.48096V2.90385C4.48096 2.1337 4.7869 1.39509 5.33147 0.850517C5.87605 0.30594 6.61466 0 7.3848 0ZM6.29586 8.34856C6.29586 8.15602 6.37235 7.97137 6.50849 7.83523C6.64463 7.69908 6.82929 7.6226 7.02182 7.6226C7.21436 7.6226 7.39901 7.69908 7.53515 7.83523C7.6713 7.97137 7.74778 8.15602 7.74778 8.34856V14.1563C7.74778 14.3488 7.6713 14.5334 7.53515 14.6696C7.39901 14.8057 7.21436 14.8822 7.02182 14.8822C6.82929 14.8822 6.64463 14.8057 6.50849 14.6696C6.37235 14.5334 6.29586 14.3488 6.29586 14.1563V8.34856ZM11.1961 8.34856C11.1961 8.15602 11.2726 7.97137 11.4087 7.83523C11.5449 7.69908 11.7295 7.6226 11.9221 7.6226C12.1146 7.6226 12.2993 7.69908 12.4354 7.83523C12.5715 7.97137 12.648 8.15602 12.648 8.34856V14.1563C12.648 14.3488 12.5715 14.5334 12.4354 14.6696C12.2993 14.8057 12.1146 14.8822 11.9221 14.8822C11.7295 14.8822 11.5449 14.8057 11.4087 14.6696C11.2726 14.5334 11.1961 14.3488 11.1961 14.1563V8.34856Z",fill:"white"}),e.createElement("path",{d:"M3.75466 5.08181V15.9712C3.75466 16.3563 3.90763 16.7256 4.17992 16.9979C4.4522 17.2702 4.82151 17.4232 5.20658 17.4232H13.9181C14.3032 17.4232 14.6725 17.2702 14.9448 16.9979C15.2171 16.7256 15.37 16.3563 15.37 15.9712V5.08181H3.75466ZM2.30273 3.62988H16.822V15.9712C16.822 16.7414 16.516 17.48 15.9714 18.0246C15.4269 18.5691 14.6883 18.8751 13.9181 18.8751H5.20658C4.43643 18.8751 3.69783 18.5691 3.15325 18.0246C2.60867 17.48 2.30273 16.7414 2.30273 15.9712V3.62988Z",fill:"white"}))}const G=d((o=>{const{progress:l,fetchData:n}=o,c=t(),d=m((()=>({loading:!1,loadingComplete:!1,items:[],actionItem:null,goToEdit(e){c(`/models/create?mid=${e}`)},goToPreview(){c("/models/preview")},async deleteItem(e,t){e.stopPropagation();await r(t);n()}})));return d.items=l,e.useEffect((()=>{}),[]),i(s,{children:i(_,{show:d.loading,showMask:!1,style:{overflow:"hidden",padding:"10px",margin:"0 -10px"},children:i("div",{className:D,children:d.items.map(((e,t)=>a("div",{className:P,onClick:t=>d.goToEdit(e.model_id),children:[a("div",{className:$,children:[i("p",{className:U,children:t+1}),i("p",{className:W,children:"/"}),i("p",{className:z,children:a("span",{className:A,children:[e.description?e.description:i(s,{children:"--"})," ",e.label?a(s,{children:["[",e.label,"]"]}):i(s,{})]})})]}),a("div",{className:F,children:[i(h,{onClick:t=>d.deleteItem(t,e.model_id),className:q,icon:S}),i(h,{className:O,icon:Q})]})]},e.model_id)))})})})}));function J(t){return e.createElement("svg",{width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("circle",{cx:11.5,cy:11.5,r:11.5,fill:"#DBFE01"}),e.createElement("path",{d:"M9 6L14.2967 11.3549C14.6851 11.7476 14.6816 12.3808 14.289 12.7692L9 18",stroke:"#0C0E12",strokeWidth:2,strokeLinecap:"round"}))}const K=d((()=>{const r=t(),d=m((()=>({loading:!1,loadingComplete:!1,progress:[],items:[],actionItem:null,async fetchList(){this.loading=!0;const e=await l();o((()=>{this.loadingComplete=!0,this.loading=!1,this.items=[],this.progress=[],e.forEach((e=>{2===e.status&&this.progress.push(e),1===e.status&&this.items.push(e)}))}))},async createModel(){const e=await n();(null==e?void 0:e.model_id)&&r(`/models/create?mid=${e.model_id}`)},goToDetail(e,t){r("/models/detail")},async createProject(e,t){e.stopPropagation();const i=await c({title:"未命名"});(null==i?void 0:i.pid)&&r(`/editor?pid=${i.pid}&title=${i.title}`)},get renderCreateBtn(){if(this.loadingComplete)return a(C,{type:g.Primary,className:N,onClick:this.createModel,children:[i(h,{icon:y}),"Create new Model"]})},get renderCreateNoData(){if(this.loadingComplete&&0===this.items.length)return i("div",{className:x,children:i("div",{className:Z,children:i(p,{description:"No Models yet."})})})}})));return e.useEffect((()=>{d.fetchList()}),[]),a(s,{children:[i("div",{className:v,children:i("div",{children:d.renderCreateBtn})}),i(G,{progress:d.progress,fetchData:d.fetchList}),i(_,{show:d.loading,showMask:!1,style:{flex:1,overflow:"hidden",padding:"10px",margin:"0 -10px"},children:a("div",{className:M,children:[i("div",{className:j,children:"Models"}),i("div",{className:E,children:" 0 Models"}),i("div",{className:V,children:d.items.map((e=>a("div",{className:k,onClick:t=>d.goToDetail(t,e),children:[a("div",{className:H,children:[i("div",{className:L,children:"[snow house]"}),i("div",{className:B,onClick:t=>d.createProject(t,e),children:"Use in project "})]}),a("div",{className:T,children:[e.resource.cover&&i("img",{src:`${w.metag}${e.resource.cover}`}),!e.resource.cover&&i("img",{src:"https://metag-ai-common.oss-cn-hangzhou.aliyuncs.com/website/img/snow.png"})]}),a("div",{className:I,children:[a("div",{children:[a("h2",{className:u,children:[i("img",{src:"https://metag-ai-common.oss-cn-hangzhou.aliyuncs.com/website/img/Intersect.png"}),e.description]}),i("div",{className:b,children:i("span",{children:f(e.modified_at,"yyyy-MM-dd")})})]}),i(h,{icon:J})]})]},e.model_id)))})]})})]})}));export{K as default};
