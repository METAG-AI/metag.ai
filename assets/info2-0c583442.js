import{r as e,a as t}from"./request-ed6d7e5f.js";import{B as n}from"./BaseUrl-9fb7060e.js";import{y as r,r as o,s,j as a,F as l,b as c}from"./index-ef096646.js";import{I as i}from"./index-f69d4be0.js";import{c as u}from"./index-f246fd73.js";function m(t){const{id:n,caption_ids:r,timestamp:o,force:s}=t;return e.post(`/api/capable/transcribe/${n}`,{caption_ids:r,timestamp:o,force:s})}function d(t){return e.get(`/api/capable/transcribe/fetch/${t}`)}function C(t){return e.post("/api/project/stage/new",t)}function p(e,t,o){const s=o??new AbortController;function a(e){return e.read().then((n=>{if(n.done)return"success";const r=n.value;let o="";for(let e=0;e<r.byteLength;e++){o+=String.fromCharCode(r[e])}let l=Number(o);return-1===l?(s.abort(),"fail"):(isNaN(l)||t(l),a(e))}))}return fetch(n.metag+`/api/general/progress/${e}`,{headers:{"M-API-KEY":r.info.token||""},signal:s.signal}).then((e=>a(e.body.getReader()))).catch((function(e){return e}))}function h(t){return e.post("/api/project/export",t)}function f(t){return e.post("/api/assets/collection",t)}const g=function(){let n,r=!1;return o=>{r&&n&&n.cancel("cancel"),n=t.CancelToken.source(),r=!0;const s=new URLSearchParams(window.location.search);return e.post("/api/project/draft/save",{pid:s.get("pid"),params:o},{cancelToken:n.token}).finally((()=>{r=!1}))}}();function w(t){return e.get(`/api/project/${t}/draft/fetch`)}function b(e){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"none",width:26,height:26,viewBox:"0 0 26 26",...e},o.createElement("g",{style:{mixBlendMode:"passthrough"}},o.createElement("g",{style:{mixBlendMode:"passthrough"}},o.createElement("g",null,o.createElement("path",{d:"M13,26C5.82029,26,0,20.1797,0,13C0,5.82029,5.82029,0,13,0C20.1797,0,26,5.82029,26,13C26,20.1797,20.1797,26,13,26ZM13,1.85714C7.18776,1.85714,1.85714,7.18776,1.85714,13C1.85714,18.8122,7.18776,24.1429,13,24.1429C18.8122,24.1429,24.1429,18.8122,24.1429,13C24.1429,7.18776,18.8122,1.85714,13,1.85714ZM18.8259,18.9187C18.3427,19.4027,17.5584,19.4027,17.0752,18.9187L13.1356,14.9797L9.19595,18.9187C8.71252,19.4023,7.92858,19.4025,7.44498,18.919C6.96137,18.4356,6.96123,17.6517,7.44467,17.1681L11.3843,13.2284L7.44467,9.28881C6.96123,8.80521,6.96137,8.02127,7.44498,7.53783C7.92858,7.0544,8.71252,7.05454,9.19595,7.53815L13.1356,11.4778L17.0752,7.53815C17.5561,7.04025,18.3518,7.03333,18.8412,7.52279C19.3307,8.01225,19.3238,8.80793,18.8259,9.28881L14.8862,13.2284L18.8259,17.1681C19.3092,17.6515,19.3092,18.4352,18.8259,18.9187Z",fill:"#FFFFFF",fillOpacity:1})))))}const x=e=>{const{onClick:t,onMouseDown:n,children:r,visible:i,maskColor:u}=e,m=o.useRef(document.createElement("div"));return o.useEffect((()=>(m.current.className="c-layer",document.body.appendChild(m.current),()=>{document.body.removeChild(m.current),s.unmountComponentAtNode(m.current)})),[]),o.useEffect((()=>{m.current.style.display=i?"block":"none"}),[i]),s.createPortal(a(l,{children:[c("div",{className:"c-layer__mask",style:{backgroundColor:u},onClick:t,onMouseDown:n}),r]}),m.current)},y=e=>{const{className:t,visible:n,style:r={width:"50%"},onMaskClick:o,onClose:s,children:l,showClose:m=!0}=e;return c(x,{maskColor:"rgba(0,0,0,.5)",visible:n,onClick:o,children:a("div",{className:u("modal__box",{[`${t}`]:t}),style:r,children:[m&&c(i,{onClick:s,className:"modal__close",icon:b}),l]})})};function k(e){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"none",width:14,height:14,viewBox:"0 0 14 14",...e},o.createElement("defs",null,o.createElement("clipPath",{id:"master_svg0_4529_24904"},o.createElement("rect",{x:0,y:0,width:14,height:14,rx:0}))),o.createElement("g",{style:{mixBlendMode:"passthrough"},clipPath:"url(#master_svg0_4529_24904)"},o.createElement("g",{style:{mixBlendMode:"passthrough"}},o.createElement("path",{d:"M7.0000440234375,1.749921953125C4.1005440234375,1.749921953125,1.7500440234375,4.100421953125,1.7500440234375,6.999921953125C1.7500440234375,9.899431953125,4.1005440234375,12.249951953125,7.0000440234375,12.249951953125C9.8995540234375,12.249951953125,12.2500740234375,9.899431953125,12.2500740234375,6.999921953125C12.2500740234375,4.100421953125,9.8995540234375,1.749921953125,7.0000440234375,1.749921953125C7.0000440234375,1.749921953125,7.0000440234375,1.749921953125,7.0000440234375,1.749921953125ZM0.5833740234375,6.999921953125C0.5833740234375,3.456091953125,3.4562140234375,0.583251953125,7.0000440234375,0.583251953125C10.5438440234375,0.583251953125,13.4166740234375,3.456091953125,13.4166740234375,6.999921953125C13.4166740234375,10.543721953125,10.5438440234375,13.416551953125,7.0000440234375,13.416551953125C3.4562140234375,13.416551953125,0.5833740234375,10.543721953125,0.5833740234375,6.999921953125C0.5833740234375,6.999921953125,0.5833740234375,6.999921953125,0.5833740234375,6.999921953125ZM6.4167040234375,4.666581953125C6.4167040234375,4.344421953125,6.6778640234375,4.083251953125,7.0000440234375,4.083251953125C7.0000440234375,4.083251953125,7.0058740234375,4.083251953125,7.0058740234375,4.083251953125C7.3280440234375,4.083251953125,7.5892040234375,4.344421953125,7.5892040234375,4.666581953125C7.5892040234375,4.988751953125,7.3280440234375,5.249921953125,7.0058740234375,5.249921953125C7.0058740234375,5.249921953125,7.0000440234375,5.249921953125,7.0000440234375,5.249921953125C6.6778640234375,5.249921953125,6.4167040234375,4.988751953125,6.4167040234375,4.666581953125C6.4167040234375,4.666581953125,6.4167040234375,4.666581953125,6.4167040234375,4.666581953125ZM7.0000440234375,6.416581953125C7.3222140234375,6.416581953125,7.5833740234375,6.677741953125,7.5833740234375,6.999921953125C7.5833740234375,6.999921953125,7.5833740234375,9.333251953125,7.5833740234375,9.333251953125C7.5833740234375,9.655431953125,7.3222140234375,9.916581953125,7.0000440234375,9.916581953125C6.6778640234375,9.916581953125,6.4167040234375,9.655431953125,6.4167040234375,9.333251953125C6.4167040234375,9.333251953125,6.4167040234375,6.999921953125,6.4167040234375,6.999921953125C6.4167040234375,6.677741953125,6.6778640234375,6.416581953125,7.0000440234375,6.416581953125C7.0000440234375,6.416581953125,7.0000440234375,6.416581953125,7.0000440234375,6.416581953125Z",fillRule:"evenodd",fill:"#1A69F3",fillOpacity:1}))))}export{y as M,k as S,d as a,C as b,f as c,g as d,h as e,m as f,p as g,w as h,x as i};
